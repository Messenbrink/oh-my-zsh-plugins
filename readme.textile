This repo contains some useful plugins for oh-my-zsh.

h2. Plugins

h3. nginx

It defines @en@ and @dis@ commands for enabling/disabling sites.
It also has completition for these actions. It completes the argument from listing the sites-available (when @en@ is used) and the sites-enabled (when @dis@ is used).

It also defines the @vhost@ command, which can generate virtualhost config files based on a template.
This template can be easily customized setting the @NGINX_VHOST_TEMPLATE@ variable in your @.zshrc@ to point to your own template file.
Inside that template you can use @user, vhost and pool_port@ variables like this: @root /home/{user}/www/{vhost}/web;@
The @pool_port@ is for php-fpm pools. It is calculated by adding 10000 to the user's id. You should have a pool listening on this port.
The default template is for a Symfony 2 application in dev environment, because 9 out of 10 times that's what I need.
The @vhost@ command accepts a few arguments, type @vhost -h@ to display help.
Here is the current output:
<pre>
mikka :: ~ Â» vhost -h
Usage: vhost [options] [vhost_name]

Options
  -l   Lists enabled vhosts
  -u   Sets the user - defaults to the current user (YOUR NAME HERE)
  -n   Does not enable the generated vhost
  -w   Write the vhost to the /etc/hosts file pointing to 127.0.0.1 (writes it at the end of the first line actually)
  -h   Get this help message
</pre>

h4. Dependencies

This plugin only works, if @debian@ plugin is activated, because this plugin relies on the @$use_sudo@ variable, which is defined in the @debian@ plugin.

h4. Example

<pre>
vhost -nw -u USER_NAME_HERE VHOST_NAME_HERE
</pre>


h3. php-fpm

This plugin can generate a pool configuration file for a given user based on a template.
This template can be easily customized setting the @FPM_POOL_TEMPLATE@ variable in your @.zshrc@ to point to your own template file.
Inside that template you can use @user, group and pool_port@ variables like this: @listen = 127.0.0.1:{pool_port}@
The @pool_port@ is calculated by adding 10000 to the user's id. The @group@ is the first group of the user's groups.

If @pool@ is called without aruments, it generates the pool for the current user.
This plugin completes the arguments from the users' list.

h4. Dependencies

This plugin only works, if @debian@ plugin is activated, because this plugin relies on the @$use_sudo@ variable, which is defined in the @debian@ plugin.

h4. Example

<pre>
pool USER_NAME_HERE
</pre>


That's it for now.

