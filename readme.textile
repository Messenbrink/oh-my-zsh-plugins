This repo contains some useful plugins for oh-my-zsh.

h2. Plugins

h3. nginx

For now, this is the only one.
It defines @en@ and @dis@ commands for enabling/disabling sites.
It also has completition for these actions. It completes the argument from listing the sites-available (when @en@ is used) and the sites-enabled (when @dis@ is used).
It only works, if @debian@ plugin is activated, because this plugin relies on the @$use_sudo@ variable, which is defined in the @debian@ plugin.

It also defines the @vhost@ command, which can generate virtualhost config files based on a template. This template can be easily customized setting the NGINX_VHOST_TEMPLATE variable to point to your own template file. Inside that template you can use @user, vhost and pool_port@ variables like this: @root /home/{user}/www/{vhost}/web;@
The @pool_port@ is for php-fpm pools. It is calculated by adding 10000 to the users id. You should have a pool listening on this port.
The @vhost@ command accepts a few arguments, type @vhost -h@ to display help.
Here is the current output:
<pre>
mikka :: ~ Â» vhost -h
Usage: vhost [options] [vhost_name]

Options
  -l   Lists enabled vhosts
  -u   Sets the user
  -n   Does not enable the generated vhost
  -w   Write the vhost to the /etc/hosts file pointing to 127.0.0.1 (writes it at the end of the first line actually)
  -h   Get this help message
</pre>

h2. Future plans

Create a php-fpm plugin which is able to create pools for a given user.


That's it for now.

